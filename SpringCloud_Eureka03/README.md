# SpringCloud_Eureka03
### 软件服务工程实验三
#### 一、	实验目的
（1）	掌握SpringCloud微服务架构基础知识。  

（2）	了解什么什么是微服务系统中的雪崩效应。  

（3）	熟知微服务熔断、隔离、限流与服务降级的基本概念和原理。  

（4）	掌握微服务熔断、隔离、限流等相关容错组件的使用。  

（5）	掌握SpringCloud中熔断保护、信号量或进程隔离、请求限流的配置与实现。
#### 二、实验要求
（1）	SpringCloud版本必须为2022.0.0以上（即Kilburn），建议采用最新版本2022.0.2。  

（2）	SpringBoot版本必须为3.0.0以上，建议采用最新版本3.0.5。  

（3）	容错组件产品可选用Resilicence4J或Alibaba Sentinel。  

（4）	实验代码请上传GitHub，并将链接提供到实验报告中。  

（5）	请自行完成实验内容，切勿抄袭。
#### 三、实验内容
（1）	进入服务消费者工程，为工程模块添加断路器、隔离器、限流器等组件的Maven依赖。  

（2）	配置一个断路器实例A，基本要求如下：

    - 配置断路器OPEN状态的失败率阈值为30%；
    
    - 配置滑动窗口类型为时间窗口型；
    
    - 配置滑动窗口长度为10秒；
    
    - 配置滑动窗口内最小请求个数为5；
    
    - 配置断路器能自动从OPEN状态变为HALF_OPEN状态，默认等待时间为5秒。
    
    - 配置断路器HALF_OPEN状态时允许测试响应能力的请求数为3；  
    
（3）	配置一个断路器实例B，基本要求如下：

    - 配置断路器OPEN状态的失败率阈值为50%；
    
    - 配置断路器OPEN状态的慢调用阈值为30%；
    
    - 配置断路器判断是否为慢调用的时间阈值为2秒；
    
    - 配置滑动窗口类型为时间窗口型；
    
    - 配置滑动窗口长度为10秒；
    
    - 配置滑动窗口内最小请求个数为5；
    
    - 配置断路器能自动从OPEN状态变为HALF_OPEN状态，默认等待时间为5秒。
    
    - 配置断路器HALF_OPEN状态时允许测试响应能力的请求数为3；
    
（4）	在服务消费者工程中分别为两个基于OpenFeign的远程微服务调用增加断路器容错保护，即分别使用断路器实例A和断路器实例B完成配置，并实现对应的服务降级响应方法。  

（5）	使用JMeter并发测试工具，测试上述配置的服务熔断保护措施，并总结慢调用熔断与失败调用熔断的异同点，请进一步分析这两种方式的适合应用场景。  

（6）	配置一个隔离器实现并发执行的限制，基本要求如下：

    - 配置允许线程并发执行的最大数量为10；
    
    - 配置允许现成阻塞的最大等待时间为20ms；
    
    - 其他配置可自行决定；
    
（7）	在服务消费者工程中为一个基于OpenFeign的远程微服务调用增加隔离限制保护，并实现对应的服务降级响应方法。  

（8）	使用JMeter并发测试工具，测试上述配置的隔离限制保护措施，并总结该措施的具体作用。  

（9）	配置一个限流器实现自定义流量控制或流量治理，基本要求如下：

    - 配置刷新周期为2秒；
    
    - 配置一个刷新周期内可处理的最大请求数量为5个；
    
    - 其他配置可自行决定；
    
（10）	在服务消费者工程中为一个基于OpenFeign的远程微服务调用增加流量控制，并实现对应的服务降级响应方法。  

（11）	使用JMeter并发测试工具，测试上述配置的流量治理措施，并总结该措施的具体作用。  

（12）	将工程上传GitHub个人账号并粘贴地址。  

（13）	选做题：有能力的同学请自行完成其他类型的容错配置与实现，例如：热点参数限流、结果缓存、超时处理等，完成后予以大量加分。
